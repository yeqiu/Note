---
layout:     post  
title:      Kotlin 数据类型
subtitle:   数据类型
date:       2021-07-01 
author:     小卷子
header-img: img/tag-bg.jpg
catalog: true
tags:
    - 标签
---

## 泛型基本概念

kotlin的泛型是根据java来的。泛型的本质就是 参数化类型。将所操作的不确定的数据类型定义为一个未知的参数类型。

### 泛型的优点

- 类型安全
- 消除强制类型转换
- 提高代码的重用性

```java
public <T> T getMax(T a,T b){
    return a;
}
```

###  类型擦除

java的泛型是一种伪泛型，采用的是类型擦除机制来支持泛型。泛型只存在于代码的编译前，再编译后泛型会被擦除。Java的泛型再代码运行时并不能知道泛型参数的类型。

### 声明

泛型函数：

```kotlin
fun <T> getMax(a: T, b: T): T {
    return a
}
```

泛型类，泛型接口：

```kotlin
class KGeneric<T>(val t: T) {
    
}
```



## 泛型的限定

上例中的`getMax`函数实现

```kotlin
fun <T> getMax(a: T, b: T): T {
    return if (a > b) a else b
}
```

这里`a > b`会报错，并不是所有的类型都具备比较的功能。所以需要传入的泛型类型具备比较的功能，这里可以让T实现`Comparable`

```kotlin
fun <T : Comparable<T>> getMax(a: T, b: T): T {
    return if (a > b) a else b
}
```

通过`: Comparable<T>`给泛型添加一个限定，必须是Comparable的子类。



## 型变



## 星投影



## 泛型的实现类





## 内联特化





## 案例





