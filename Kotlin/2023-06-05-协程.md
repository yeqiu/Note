## 协程



~~~kotlin
/**
 * suspend 挂起函数
 * 这个方法是阻塞的
 * @param time Long
 */
suspend fun delay(time:Long){
    println(2)
}


fun test1(){
    val result =   runBlocking {
        println(1)
        delay(1000)
        println(3)
        return@runBlocking "aaa"
    }
    println("4")

    Thread.sleep(2000L)
    println(5)
    println("result = $result")
}

fun test2(){

    runBlocking {
        println("runBlocking")
        val async = async {
            println("in async ${Thread.currentThread().name}")
            delay(1000)
            println("after async")
            return@async true
        }

        println("out async ${Thread.currentThread().name}")
        val await = async.await()
        println("await = $await")
    }

}

fun main() {

    test2()

}
~~~







